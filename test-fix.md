# 用户管理-修改用户时，用户名修改失败问题修复

## 问题描述
用户在修改用户信息时，用户名无法成功更新。

## 问题原因
在后端的用户更新 API 中，`UPDATE` 语句没有包含 `username` 字段，导致用户名修改失败。

## 修复内容
1. **添加用户名更新字段**：在 `UPDATE` 语句中添加了 `username = ?` 字段
2. **添加用户名唯一性检查**：防止重复用户名
3. **更新参数数组**：在 `updateParams` 数组中添加了 `username` 参数

## 修复文件
- `apps/backend/api/system/user/[id].put.ts`

## 修复详情
1. 在 UPDATE 语句中添加了 `username = ?` 字段
2. 添加了用户名唯一性检查逻辑
3. 在 updateParams 数组开头添加了 `body.username || existingUser.username` 参数

## 验证方法
1. 登录系统
2. 进入用户管理页面
3. 点击编辑按钮修改某个用户的用户名
4. 保存修改
5. 验证用户名是否成功更新

## 预期结果
用户修改用户名后，系统能够成功保存并显示新的用户名。